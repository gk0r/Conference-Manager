<!-- Useful links
Time formatting: http://www.ruby-doc.org/core-1.9.3/Time.html#M000297 -->

<h1>View Bookings</h1>

<table>
  <tr>
    <th>Conference number</th>
    <th>User</th>
    <th>Date</th>
    <th>Start Time</th>
    <th>Finish Time</th>
    <th></th>
    <th></th>
  </tr>

<% @bookings.each do |booking| %>
  <tr>
    <td>
    	<%= booking.conference_number.conference_number %>
    </td>
    <td>
    	<%= booking.user.first_name %> <%=booking.user.last_name %>
    </td>    
   
    <td>
    	<%= booking.date.strftime("%d/%m/%Y") %>
    </td>
    <td>
    	<%= booking.time_start.strftime("%I:%M%p") %>
    </td>
    <td>
    	<%= booking.time_finish.strftime("%I:%M%p") %>
    </td>
    
    <td> <div class="buttons">	
    	<%= link_to image_tag("textfield_rename.png", :alt => "Edit") + "Edit",  
    		edit_booking_path(booking), :class => "regular" %>
    </td> </div> 
    		
    <td> <div class="buttons">	
    	<%= link_to image_tag("cross.png", :alt => "Delete") + "Delete", 
    		booking, :class => "negative",
    		confirm: "Are you sure you want to delete this booking?", 
    		method: :delete %>
    </td> </div> 
    
  </tr>
<% end %>
</table>

<%= will_paginate @bookings %>

<div class="buttons">
	<%= link_to image_tag("add.png") + " New Booking", new_booking_path, :class => "positive" %>
</div>